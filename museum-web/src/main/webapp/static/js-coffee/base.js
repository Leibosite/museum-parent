// Generated by CoffeeScript 1.4.0
(function(){$(function(){var e,t;$(".pre_disable_todo_block").disable({disableEveryElement:!0,maskClass:"js-disabled-mask-transparent"});t=$("#templateId").attr("value");e=$("#initialID").attr("value");$("ul.margin-top-bottom.task-list > li").each(function(){var n,r=this;n=$(this).attr("id");if(t){if(n&&e)return $.ajax({type:"GET",url:"show",data:{baseObjectId:e,resolveTarget:n,ajax:!0,templateId:t},success:function(e){disable_restore();return addInfo_return(r,e)}})}else if(n&&e)return $.ajax({type:"GET",url:"show",data:{baseObjectId:e,resolveTarget:n,ajax:!0},success:function(e){disable_restore();return addInfo_return(r,e)}})});return $(".constraints-element .dropdown-menu a").click(function(){return $("#constraints-element .dropdown-toggle").html($(this).html()+" <span class='caret'></span>")})});$.fn.extend({requestForm:function(e){var t;t={currentWrapper:"",ajaxUrl:"",afterRenderFunction:function(){return{}}};t=$.extend(t,e);return this.each(function(){var n=this;return $(this).disable({ajaxUrl:e.ajaxUrl,enableOnAjaxComplete:!0,ajaxData:{baseObjectId:$("#initialID").attr("value")},ajaxCallback:function(e){var r;r=$(e);r.appendTo("body");r.modal("show").on("hidden",function(){return r.remove()});r.find("form").validate({submitHandler:function(e){return $(e).ajaxSubmit({type:"POST",data:{baseObjectId:$("#initialID").attr("value")},success:function(e){addInfo_return(n,e);disable_restore();return r.modal("hide")}})}});return t.afterRenderFunction()}})})}})}).call(this);